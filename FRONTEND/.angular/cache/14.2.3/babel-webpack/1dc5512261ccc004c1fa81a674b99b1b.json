{"ast":null,"code":"import { Observable } from 'rxjs';\nimport { AddProduit, RemoveProduit } from 'src/app/shared/actions/cart-actions';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/produit.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@ngxs/store\";\nimport * as i4 from \"@angular/common\";\n\nfunction DetailsProductComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"div\", 8)(2, \"div\", 9)(3, \"div\", 10);\n    i0.ɵɵelement(4, \"img\", 11);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(5, \"div\", 12)(6, \"div\", 13)(7, \"div\", 14)(8, \"div\", 15);\n    i0.ɵɵelement(9, \"i\", 16);\n    i0.ɵɵelementStart(10, \"span\", 17);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"i\", 18);\n    i0.ɵɵlistener(\"click\", function DetailsProductComponent_div_6_Template_i_click_12_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.myCart());\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 19)(14, \"span\", 20);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"h5\", 21);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 22)(19, \"span\", 23);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 24)(22, \"small\", 25);\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"span\");\n    i0.ɵɵtext(25, \"40% OFF\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(26, \"p\", 26);\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"div\", 27)(29, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function DetailsProductComponent_div_6_Template_button_click_29_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.addProductToCart(ctx_r3.product));\n    });\n    i0.ɵɵtext(30, \"Ajouter au panier\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function DetailsProductComponent_div_6_Template_button_click_31_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.removeProduitFromPanier(ctx_r4.product.id));\n    });\n    i0.ɵɵtext(32, \"Supprimer du panier\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(33, \"i\", 29)(34, \"i\", 30);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r0.product.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r0.product.race);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.product.region);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.product.taille);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.product.prix, \" \\u20AC\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.product.prix, \" \\u20AC\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.product.description);\n  }\n}\n\nexport let DetailsProductComponent = /*#__PURE__*/(() => {\n  class DetailsProductComponent {\n    constructor(service, route, store, activateRoute) {\n      this.service = service;\n      this.route = route;\n      this.store = store;\n      this.activateRoute = activateRoute;\n    }\n\n    ngOnInit() {\n      // this.catalogue$ = this.service.getCatalogue();\n      this.id$ = this.getParamsURL();\n      ;\n      this.service.getCatalogue().subscribe(catalogue => this.product = catalogue.find(p => p.id == this.id$));\n    }\n\n    detailsProduct(product) {\n      this.route.navigate(['/details', product.id]);\n    } // get id from url\n\n\n    getParamsURL() {\n      this.sub = this.activateRoute.params.subscribe(params => {\n        this.id$ = +params['id'];\n      });\n      return this.id$;\n    }\n\n    addProductToCart(product) {\n      this.store.dispatch(new AddProduit(product));\n    }\n\n    removeProduitFromPanier(productIndex) {\n      this.store.dispatch(new RemoveProduit(productIndex));\n    }\n\n    myCart() {\n      this.route.navigate(['/cart']);\n    }\n\n  }\n\n  DetailsProductComponent.ɵfac = function DetailsProductComponent_Factory(t) {\n    return new (t || DetailsProductComponent)(i0.ɵɵdirectiveInject(i1.ProduitService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.Store), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n  };\n\n  DetailsProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DetailsProductComponent,\n    selectors: [[\"app-details-product\"]],\n    decls: 7,\n    vars: 1,\n    consts: [[\"href\", \"//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css\", \"rel\", \"stylesheet\", \"id\", \"bootstrap-css\"], [\"rel\", \"stylesheet\", \"href\", \"https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\"], [1, \"container\", \"mt-5\", \"mb-5\"], [1, \"row\", \"d-flex\", \"justify-content-center\"], [1, \"col-md-10\"], [1, \"card\"], [\"class\", \"row\", 4, \"ngIf\"], [1, \"row\"], [1, \"col-md-3\", \"col-md-6\"], [1, \"product-grid2\"], [1, \"product-image2\"], [1, \"pic-1\", 3, \"src\"], [1, \"col-md-6\"], [1, \"product\", \"p-4\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"d-flex\", \"align-items-center\"], [1, \"fa\", \"fa-long-arrow-left\"], [1, \"ml-1\"], [1, \"fa\", \"fa-shopping-cart\", \"text-muted\", 3, \"click\"], [1, \"mt-4\", \"mb-3\"], [1, \"text-uppercase\", \"text-muted\", \"brand\"], [1, \"text-uppercase\"], [1, \"price\", \"d-flex\", \"flex-row\", \"align-items-center\"], [1, \"act-price\"], [1, \"ml-2\"], [1, \"dis-price\"], [1, \"about\"], [1, \"cart\", \"mt-4\", \"align-items-center\"], [1, \"add-to-cart\", 3, \"click\"], [1, \"fa\", \"fa-heart\", \"text-muted\"], [1, \"fa\", \"fa-share-alt\", \"text-muted\"]],\n    template: function DetailsProductComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"link\", 0)(1, \"link\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5);\n        i0.ɵɵtemplate(6, DetailsProductComponent_div_6_Template, 35, 7, \"div\", 6);\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.product);\n      }\n    },\n    dependencies: [i4.NgIf],\n    styles: [\"body[_ngcontent-%COMP%]{background-color:#000}.card[_ngcontent-%COMP%]{border:none}.product[_ngcontent-%COMP%]{background-color:#eee}.brand[_ngcontent-%COMP%]{font-size:13px}.act-price[_ngcontent-%COMP%]{color:red;font-weight:700}.dis-price[_ngcontent-%COMP%]{text-decoration:line-through}.about[_ngcontent-%COMP%]{font-size:14px}.color[_ngcontent-%COMP%]{margin-bottom:10px}label.radio[_ngcontent-%COMP%]{cursor:pointer}label.radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;top:0;left:0;visibility:hidden;pointer-events:none}.product-grid2[_ngcontent-%COMP%]   .product-image2[_ngcontent-%COMP%]{overflow:hidden;position:relative}.product-grid2[_ngcontent-%COMP%]   .product-image2[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block}.product-grid2[_ngcontent-%COMP%]   .product-image2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20%;height:auto;text-align:center}.product-image2[_ngcontent-%COMP%]   .pic-1[_ngcontent-%COMP%]{height:auto;max-width:20%;padding-top:20px;padding-bottom:20px}.product-image2[_ngcontent-%COMP%]{text-align:center}.product-image2[_ngcontent-%COMP%]   .pic-2[_ngcontent-%COMP%]{width:100%;height:100%;opacity:0;position:absolute;top:0;left:0;transition:all .5s}.product-grid2[_ngcontent-%COMP%]:hover   .product-image2[_ngcontent-%COMP%]   .pic-2[_ngcontent-%COMP%]{opacity:1}label.radio[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:2px 9px;border:2px solid #ff0000;display:inline-block;color:red;border-radius:3px;text-transform:uppercase}label.radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]{border-color:red;background-color:red;color:#fff}.btn-danger[_ngcontent-%COMP%]{background-color:red!important;border-color:red!important}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#da0606!important;border-color:#da0606!important}.btn-danger[_ngcontent-%COMP%]:focus{box-shadow:none}.cart[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.product-grid2[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{color:#fff;background-color:#404040;font-size:15px;text-align:center;width:100%;padding:10px 0;display:block;position:absolute;left:0;bottom:-100%;transition:all .3s}.product-grid2[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]:hover{background-color:#3498db;text-decoration:none}.product-grid2[_ngcontent-%COMP%]:hover   .add-to-cart[_ngcontent-%COMP%]{bottom:0}\"]\n  });\n  return DetailsProductComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}